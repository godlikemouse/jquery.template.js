/*
 * Copyright 2014 Jason Graves (GodLikeMouse/Collaboradev)
 * http://www.collaboradev.com
 *
 * This file is part of jquery.template.js.
 *
 * The jquery.template.js plugin is free software: you can redistribute it
 * and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either
 * version 3 of the License, or (at your option) any later version.
 *
 * The jquery.template.js plugin is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with the jquery.template.js plugin. If not, see http://www.gnu.org/licenses/.
 */
$.fn.template=function(){function parse(s,binding){if(s.indexOf("{")>=0&&s.indexOf("}")>=0){var tokens=s.match(/\{.*?\}/gm);for(var i in tokens){var token=tokens[i];var source=token.replace("{","").replace("}","");var value=eval(source);if(typeof value=="object"){s=value;break}else{s=s.replace(token,value)}}}return s}function inspect(e,t){e.each(function(){var e=$(this);var n=e.get(0).attributes;$(n).each(function(){var n=this.nodeName;var r=parse(this.value,t);this.value=r;if(n.indexOf("data-")>=0){if(typeof r=="object"){var i=n.replace("data-","");e.data(i,r);e.removeAttr(n)}}});e.contents().each(function(){inspect($(this),t)});if(e.prop("nodeType")!==1){var r=parse(e.text(),t);if(typeof r=="object")e.replaceWith(r);else e.get(0).nodeValue=r}});return e}var _ref=this;var _element=$(this);_ref.bind=function(e){var t=$("<p>");$(e).each(function(){t.append(inspect($(_element.html()),this))});if(e==undefined||e.length==0)t.append(_element.html());return t.children()};_ref.toString=function(){return _element.html()};return _ref}
